import{_ as k,C as t,c as p,o as e,b1 as h,G as n,j as i,a as l}from"./chunks/framework.w2ptJf3g.js";const C=JSON.parse('{"title":"七.6.BFD与NQA链路检测技术","description":"","frontmatter":{},"headers":[],"relativePath":"views/study/ne/theory/七/6.BFD与NQA链路检测技术.md","filePath":"views/study/ne/theory/七/6.BFD与NQA链路检测技术.md","lastUpdated":1758878470000}'),E={name:"views/study/ne/theory/七/6.BFD与NQA链路检测技术.md"};function r(d,s,g,F,y,o){const a=t("ImageViewer");return e(),p("div",null,[s[0]||(s[0]=h("",3)),n(a,{src:"/blog/images/study/ne/网络故障检测遇到的问题.png"}),s[1]||(s[1]=h("",5)),n(a,{src:"/blog/images/study/ne/BFD报文结构.png"}),s[2]||(s[2]=h("",3)),n(a,{src:"/blog/images/study/ne/BFD会话建立.png"}),s[3]||(s[3]=h("",4)),n(a,{src:"/blog/images/study/ne/BFD会话状态.png"}),s[4]||(s[4]=i("br",null,null,-1)),s[5]||(s[5]=i("h4",{id:"_6-bfd-echo功能",tabindex:"-1"},[l("6.BFD Echo功能 "),i("a",{class:"header-anchor",href:"#_6-bfd-echo功能","aria-label":'Permalink to "6.BFD Echo功能"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/BFD Echo功能.png"}),s[6]||(s[6]=i("br",null,null,-1)),s[7]||(s[7]=i("ul",null,[i("li",null,[l("BFD Echo功能也称为"),i("span",{class:"brown"},"BFD回声功能"),l("，是由本地发送BFD Echo报文，远端系统将报文环回的一种检测机制")]),i("li",null,"在两台直接相连的设备中，其中一台设备支持BFD功能(R1)，另一台设备不支持BFD功能(R2)，只支持基本的网络层转发。为了能够快速的检测这两台设备之间的故障，可以在支持BFD功能的设备上创建单臂回声功能的BFD会话。支持BFD功能的设备主动发起回声请求功能，不支持BFD功能的设备接收到该报文后直接将其环回，从而实现转发链路的连通性检测功能。")],-1)),s[8]||(s[8]=i("h3",{id:"_2-bfd联动功能",tabindex:"-1"},[l("2.BFD联动功能 "),i("a",{class:"header-anchor",href:"#_2-bfd联动功能","aria-label":'Permalink to "2.BFD联动功能"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/BFD联动功能.png"}),s[9]||(s[9]=i("br",null,null,-1)),s[10]||(s[10]=i("p",null,"联动功能由监测模块、Track和应用模块三部分组成。",-1)),s[11]||(s[11]=i("ul",null,[i("li",null,"1.监测模块负责对链路状态、网络性能鞥进行监测，并将探测结果通知给Track模块"),i("li",null,"Track模块收到监测模块的探测结果后，及时改变Track项的状态，并通知应用模块"),i("li",null,"应用模块根据Track项的状态，进行相应的处理，从而实现联动")],-1)),s[12]||(s[12]=i("h4",{id:"_1-静态路由与bfd联动",tabindex:"-1"},[l("1.静态路由与BFD联动 "),i("a",{class:"header-anchor",href:"#_1-静态路由与bfd联动","aria-label":'Permalink to "1.静态路由与BFD联动"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/静态路由与BFD联动.png"}),s[13]||(s[13]=i("br",null,null,-1)),s[14]||(s[14]=i("ul",null,[i("li",null,"静态路由自身没有检测机制，如果静态路由存在冗余路径，通过静态路由与BFD联动，当主用路径故障时，实现静态路由的快速切换"),i("li",null,"静态路由与BFD联动应用广泛。如图所示R1是园区网的出口路由器，R1通过两条链路分别连接ISP1和ISP2，正常情况下默认路由经过的链路为指向ISP1的链路，当通往ISP1的链路出现故障的时候，BFD会话能够快速感知，并通知路由器将流量切换到指向ISP2的链路")],-1)),s[15]||(s[15]=i("h5",{id:"配置",tabindex:"-1"},[l("配置 "),i("a",{class:"header-anchor",href:"#配置","aria-label":'Permalink to "配置"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/静态路由与BFD联动配置.png"}),s[16]||(s[16]=h("",7)),n(a,{src:"/blog/images/study/ne/静态路由与BFD联动配置验证.png"}),s[17]||(s[17]=i("br",null,null,-1)),s[18]||(s[18]=i("h4",{id:"_2-ospf与bfd联动",tabindex:"-1"},[l("2.OSPF与BFD联动 "),i("a",{class:"header-anchor",href:"#_2-ospf与bfd联动","aria-label":'Permalink to "2.OSPF与BFD联动"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/OSPF与BFD联动.png"}),s[19]||(s[19]=i("br",null,null,-1)),s[20]||(s[20]=i("p",null,"BFD会话建立后会周期性地快速发送BFD报文，如果在检测时间内没有收到BFD报文，则认为该双向转发路径发生了故障，通知被服务的上层应用进行相应的处理",-1)),s[21]||(s[21]=i("ul",null,[i("li",null,"当R1和R2之间链路出现故障，BFD首先快速检测到链路故障，BFD会话状态变为Down并通知R1"),i("li",null,"R1处理邻居Down事件，通知本地OSPF进行邻居不可达，重新进行路由计算，选择通过R3到达R4")],-1)),s[22]||(s[22]=i("h5",{id:"配置-1",tabindex:"-1"},[l("配置 "),i("a",{class:"header-anchor",href:"#配置-1","aria-label":'Permalink to "配置"'},"​")],-1)),n(a,{src:"/blog/images/study/ne/OSPF与BFD联动配置.png"}),s[23]||(s[23]=h("",5)),n(a,{src:"/blog/images/study/ne/OSPF与BFD联动配置验证.png"}),s[24]||(s[24]=h("",9))])}const u=k(E,[["render",r]]);export{C as __pageData,u as default};
