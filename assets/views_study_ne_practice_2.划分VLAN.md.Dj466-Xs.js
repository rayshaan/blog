import{_ as p,C as e,c as h,o as k,j as i,G as n,b1 as t,a as l}from"./chunks/framework.BbzeyoJx.js";const u=JSON.parse('{"title":"2.划分VLAN","description":"","frontmatter":{},"headers":[],"relativePath":"views/study/ne/practice/2.划分VLAN.md","filePath":"views/study/ne/practice/2.划分VLAN.md","lastUpdated":1759569938000}'),E={name:"views/study/ne/practice/2.划分VLAN.md"};function r(d,s,g,c,y,o){const a=e("ImageViewer");return k(),h("div",null,[s[0]||(s[0]=i("h1",{id:"_2-划分vlan",tabindex:"-1"},[l("2.划分VLAN "),i("a",{class:"header-anchor",href:"#_2-划分vlan","aria-label":'Permalink to "2.划分VLAN"'},"​")],-1)),s[1]||(s[1]=i("h3",{id:"_1-要求",tabindex:"-1"},[l("1.要求 "),i("a",{class:"header-anchor",href:"#_1-要求","aria-label":'Permalink to "1.要求"'},"​")],-1)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/7.png"}),s[2]||(s[2]=i("h3",{id:"_2-配置设备",tabindex:"-1"},[l("2.配置设备 "),i("a",{class:"header-anchor",href:"#_2-配置设备","aria-label":'Permalink to "2.配置设备"'},"​")],-1)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/1.png"}),s[3]||(s[3]=t(`<br><h3 id="_3-设置配置" tabindex="-1">3.设置配置 <a class="header-anchor" href="#_3-设置配置" aria-label="Permalink to &quot;3.设置配置&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Swicth A配置</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 切换成系统视图</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Huawei</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;system-view</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 更改名称为SwitchA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Huawei]sysname SwitchA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 批量创建vlan 2和vlan 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA]vlan batch 2 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 进入g0/0/1接口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA]int g0/0/1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 将g0/0/1接口的链路类型设置为trunk类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/1]port link-type trunk</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 允许vlan 2 和vlan 3的数据帧通过</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/1]port trunk allow-pass vlan 2 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 进入g0/0/2接口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/1]int g0/0/2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 将g0/0/2接口的链路类型设置为access类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/2]port link-type access</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 将g0/0/2接口的默认vlan设置为vlan 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/2]port default vlan 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 进入g0/0/3接口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/2]int g0/0/3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 将g0/0/3接口的链路类型设置为access类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/3]port link-type access</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 将g0/0/3接口的默认vlan设置为vlan 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/3]port default vlan 3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// 退出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA-GigabitEthernet0/0/3]q</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">// Swicth B配置同Switch A</span></span></code></pre></div><h3 id="_4-验证配置" tabindex="-1">4.验证配置 <a class="header-anchor" href="#_4-验证配置" aria-label="Permalink to &quot;4.验证配置&quot;">​</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA]dis port vlan</span></span></code></pre></div>`,5)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/2.png"}),s[4]||(s[4]=i("br",null,null,-1)),s[5]||(s[5]=i("p",null,"从PC1 ping 一下 PC3",-1)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/3.png"}),s[6]||(s[6]=i("br",null,null,-1)),s[7]||(s[7]=i("p",null,"抓包分析",-1)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/4.png"}),s[8]||(s[8]=i("ul",null,[i("li",null,"VLAN ID是2"),i("li",null,"源地址192.168.0.1，目标地址192.168.100.2")],-1)),s[9]||(s[9]=i("h3",{id:"_5-三层通信实验",tabindex:"-1"},[l("5.三层通信实验 "),i("a",{class:"header-anchor",href:"#_5-三层通信实验","aria-label":'Permalink to "5.三层通信实验"'},"​")],-1)),s[10]||(s[10]=i("p",null,"目前配置下，PC1和PC2之间是否能互通呢？",-1)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/5.png"}),s[11]||(s[11]=t(`<p>不同网段之间不能直接通信，要想通信，需要三层交换机配置网关</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建并进入 VLANIF 2 接口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[SwitchA]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vlanif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 配置VLANIF 2 接口的网关为192.168.100.254</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SwitchA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Vlanif2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 192.168.100.254 24</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建并进入 VLANIF 3 接口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SwitchA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Vlanif2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vlanif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 配置VLANIF 3 接口的网关为192.168.200.254</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SwitchA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Vlanif3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 192.168.200.254 24</span></span></code></pre></div><p>配置验证：不同网段之间已可以互相通信</p>`,3)),n(a,{src:"/blog/images/study/practice/2.划分VLAN/6.png"})])}const b=p(E,[["render",r]]);export{u as __pageData,b as default};
